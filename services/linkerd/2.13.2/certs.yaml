apiVersion: v1
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJqVENDQVRTZ0F3SUJBZ0lSQU13dXZkL3NhcXhybGNmN1JGOXQ0VjB3Q2dZSUtvWkl6ajBFQXdJd0pURWoKTUNFR0ExVUVBeE1hY205dmRDNXNhVzVyWlhKa0xtTnNkWE4wWlhJdWJHOWpZV3d3SGhjTk1qSXhNakF6TURBdwpPVEV6V2hjTk16SXhNVE13TURBd09URXpXakFsTVNNd0lRWURWUVFERXhweWIyOTBMbXhwYm10bGNtUXVZMngxCmMzUmxjaTVzYjJOaGJEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJGTWZ1WXdWQlg3UVQ3NnYKVnpXUHRlcUQwNnE1NkNHWEJuQytuQVhtWlNyUklFUzllK0tRS1p5Q0tWUVFQQXVPZmlrdFM4SzlxNmU3am9DRgpBTEpPTDhTalJUQkRNQTRHQTFVZER3RUIvd1FFQXdJQkJqQVNCZ05WSFJNQkFmOEVDREFHQVFIL0FnRUJNQjBHCkExVWREZ1FXQkJSNmtpcVVuWU1ES2kwUmJ4RXNHVUtVdWpNWVpUQUtCZ2dxaGtqT1BRUURBZ05IQURCRUFpQkYKRklTQVpnbFdpOW5OQWlMMDI0dXlIUjJ6bU9RSmJ4U1ptTDh5NXpTWHZ3SWdQQ3NmWlNzZE1zLzZyRmhQVXhXNwpWWE1GWGw5bEVYWnpvYTFNaEgrOXRuRT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUZyWnR2SklMVTlDVFFDME15WCtyd2RNYUYydVJRRU9aa3BDcE04U0cvRFhvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFVXgrNWpCVUZmdEJQdnE5WE5ZKzE2b1BUcXJub0laY0djTDZjQmVabEt0RWdSTDE3NHBBcApuSUlwVkJBOEM0NStLUzFMd3IycnA3dU9nSVVBc2s0dnhBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
kind: Secret
metadata:
  creationTimestamp: null
  name: linkerd-trust-anchor
  namespace: ${releaseNamespace}
type: kubernetes.io/tls

---
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  name: linkerd-trust-anchor
  namespace: ${releaseNamespace}
spec:
  ca:
    secretName: linkerd-trust-anchor
---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: linkerd-identity-issuer
  namespace: ${releaseNamespace}
spec:
  secretName: linkerd-identity-issuer
  duration: 48h
  renewBefore: 25h
  issuerRef:
    name: linkerd-trust-anchor
    kind: Issuer
  commonName: identity.linkerd.cluster.local
  dnsNames:
  - identity.linkerd.cluster.local
  isCA: true
  privateKey:
    algorithm: ECDSA
  usages:
  - cert sign
  - crl sign
  - server auth
  - client auth
